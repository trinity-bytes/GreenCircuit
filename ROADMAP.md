# üó∫Ô∏è ROADMAP - GreenCircuit

## üìã Documento de Desarrollo y Hoja de Ruta

**√öltima actualizaci√≥n:** 28 de octubre de 2025  
**Versi√≥n actual:** 1.0 (Funcionalidad base completada)  
**Pr√≥xima versi√≥n:** 2.0 (Editor manual + mejoras de UI)

---

## üìä Estado Actual del Proyecto

### ‚úÖ Features Completadas (v1.0)

#### Core - Algoritmo TSP

- [x] Implementaci√≥n de algoritmo de fuerza bruta
- [x] B√∫squeda de ciclos hamiltonianos con backtracking
- [x] Construcci√≥n de matriz de adyacencia
- [x] Evaluaci√≥n de todas las rutas posibles
- [x] C√°lculo de m√©tricas (distancia, tiempo, CO‚ÇÇ)
- [x] Identificaci√≥n de ruta √≥ptima y peor ruta
- [x] C√°lculo de ahorros y porcentajes

#### Generaci√≥n de Grafos

- [x] Generaci√≥n aleatoria de nodos
- [x] Layout circular
- [x] Layout en cuadr√≠cula (grid)
- [x] Generaci√≥n de grafo completo autom√°tico
- [x] Asignaci√≥n de propiedades a nodos (tipo, residuos)
- [x] C√°lculo de distancias euclidianas

#### Visualizaci√≥n

- [x] Renderizado con Cytoscape.js
- [x] Diferenciaci√≥n de nodos por tipo (color)
- [x] Visualizaci√≥n de todas las aristas
- [x] Destacado de ruta √≥ptima
- [x] Controles de zoom y navegaci√≥n
- [x] Ajustar vista y resetear vista

#### Interfaz de Usuario

- [x] Configuraci√≥n de n√∫mero de nodos (8-16)
- [x] Selecci√≥n de tipo de layout
- [x] Control de velocidad de ejecuci√≥n (r√°pido/lento/manual)
- [x] Barra de progreso
- [x] Sistema de logs categorizado
- [x] Visualizaci√≥n de matriz de adyacencia
- [x] Presentaci√≥n de resultados detallados
- [x] Flujo secuencial guiado

#### Arquitectura

- [x] Arquitectura modular (7 archivos JS)
- [x] Separaci√≥n de responsabilidades
- [x] Documentaci√≥n t√©cnica completa
- [x] README con instrucciones de uso
- [x] C√≥digo comentado y estructurado

---

## üéØ Features Pendientes

### üöÄ Prioridad ALTA - v2.0 (Pr√≥xima versi√≥n)

#### 1. Editor Manual de Grafos ‚≠ê‚≠ê‚≠ê

- [ ] **Agregar nodos manualmente**

  - [ ] Click en canvas para crear nodo
  - [ ] Modal/formulario para ingresar propiedades:
    - Nombre personalizado
    - Tipo de zona (residencial/comercial/industrial)
    - Cantidad de residuos
  - [ ] Validaci√≥n de l√≠mites (m√°ximo 16 nodos)
  - [ ] Visualizaci√≥n inmediata en el grafo

- [ ] **Eliminar nodos**

  - [ ] Click derecho o bot√≥n sobre nodo
  - [ ] Confirmaci√≥n antes de eliminar
  - [ ] Actualizaci√≥n autom√°tica de aristas conectadas
  - [ ] Reindexaci√≥n de IDs si es necesario

- [ ] **Mover nodos (drag & drop)**

  - [ ] Permitir arrastrar nodos en el canvas
  - [ ] Actualizar coordenadas en tiempo real
  - [ ] Recalcular distancias de aristas conectadas
  - [ ] Mantener conexiones mientras se mueve

- [ ] **Editar propiedades de nodos**

  - [ ] Double-click para editar
  - [ ] Cambiar nombre, tipo, residuos
  - [ ] Actualizar visualizaci√≥n en vivo

- [ ] **Agregar/eliminar aristas manualmente**

  - [ ] Modo "conectar": click en 2 nodos para unirlos
  - [ ] Mostrar distancia calculada autom√°ticamente
  - [ ] Permitir desconectar aristas (click derecho)
  - [ ] Validar que no se repitan conexiones

- [ ] **Editar pesos de aristas**
  - [ ] Click en arista para editar distancia
  - [ ] Validaci√≥n de valores positivos
  - [ ] Actualizaci√≥n inmediata de matriz

#### 2. Mejoras de Dise√±o/UI ‚≠ê‚≠ê

- [ ] **Redise√±o visual completo**

  - [ ] Paleta de colores moderna y consistente
  - [ ] Tipograf√≠a mejorada (fuentes m√°s legibles)
  - [ ] Espaciado y m√°rgenes consistentes
  - [ ] Mejores iconos y elementos visuales
  - [ ] Modo claro/oscuro (opcional)

- [ ] **Layout responsive**

  - [ ] Adaptaci√≥n a tablets
  - [ ] Adaptaci√≥n a m√≥viles
  - [ ] Reorganizaci√≥n de secciones en pantallas peque√±as
  - [ ] Botones y controles t√°ctiles

- [ ] **Animaciones y transiciones**

  - [ ] Transiciones suaves entre estados
  - [ ] Animaci√≥n de destacado de ruta √≥ptima
  - [ ] Feedback visual en botones
  - [ ] Carga progresiva de elementos

- [ ] **Mejora del panel de logs**

  - [ ] Scroll m√°s intuitivo
  - [ ] Timestamps en mensajes
  - [ ] Filtros por tipo de mensaje
  - [ ] Exportar logs a archivo
  - [ ] Colapsable/expandible

- [ ] **Informaci√≥n visual mejorada**
  - [ ] Tooltips en nodos (mostrar info al hover)
  - [ ] Tooltips en aristas (mostrar distancia)
  - [ ] Panel lateral con detalles del nodo seleccionado
  - [ ] Leyenda visual de colores y s√≠mbolos
  - [ ] Mini-mapa para grafos grandes

#### 3. Guardar/Cargar Grafos ‚≠ê‚≠ê

- [ ] **Guardar grafo actual**

  - [ ] Serializaci√≥n a JSON
  - [ ] Guardar nodos, aristas, propiedades
  - [ ] Descarga como archivo .json
  - [ ] Validaci√≥n de integridad

- [ ] **Cargar grafo desde archivo**

  - [ ] Input para subir archivo .json
  - [ ] Validaci√≥n de formato
  - [ ] Carga y renderizado del grafo
  - [ ] Manejo de errores

- [ ] **LocalStorage (opcional)**
  - [ ] Guardar autom√°ticamente en navegador
  - [ ] Lista de grafos guardados
  - [ ] Cargar grafo previo al iniciar

---

### üîß Prioridad MEDIA - v2.1

#### 4. Mejoras de Algoritmo

- [ ] **Algoritmos alternativos**

  - [ ] Implementar algoritmo "Nearest Neighbor" (heur√≠stica)
  - [ ] Implementar "2-opt" para mejorar soluciones
  - [ ] Comparaci√≥n entre algoritmos
  - [ ] Selector de algoritmo en UI

- [ ] **Optimizaciones de rendimiento**

  - [ ] Web Workers para c√°lculos pesados
  - [ ] Evitar bloqueo del UI thread
  - [ ] Cacheo de c√°lculos intermedios
  - [ ] Progreso granular (actualizaciones frecuentes)

- [ ] **Soporte para grafos m√°s grandes**
  - [ ] Aumentar l√≠mite a N=20 (con heur√≠sticas)
  - [ ] Advertencias sobre tiempo de ejecuci√≥n
  - [ ] Cancelaci√≥n de ejecuci√≥n en progreso

#### 5. Exportaci√≥n de Resultados

- [ ] **Exportar a PDF**

  - [ ] Generar reporte completo
  - [ ] Incluir visualizaci√≥n del grafo
  - [ ] Tabla de resultados
  - [ ] Gr√°ficas de comparaci√≥n

- [ ] **Exportar a imagen**

  - [ ] PNG del grafo con ruta √≥ptima
  - [ ] SVG para calidad vectorial
  - [ ] Configuraci√≥n de resoluci√≥n

- [ ] **Exportar datos a CSV/Excel**
  - [ ] Tabla de todos los ciclos evaluados
  - [ ] M√©tricas por ciclo
  - [ ] Importar en hojas de c√°lculo

#### 6. Visualizaciones Avanzadas

- [ ] **Gr√°ficas de an√°lisis**

  - [ ] Histograma de distribuci√≥n de distancias
  - [ ] Gr√°fica de comparaci√≥n √≥ptimo vs peor
  - [ ] Gr√°fica de ahorros (barras)
  - [ ] Chart.js o D3.js para visualizaciones

- [ ] **Comparaci√≥n de soluciones**

  - [ ] Tabla comparativa de top 10 mejores/peores
  - [ ] Visualizaci√≥n lado a lado
  - [ ] Resaltar diferencias

- [ ] **Animaci√≥n de ruta**
  - [ ] Recorrido animado del cami√≥n
  - [ ] Simulaci√≥n de tiempo real
  - [ ] Velocidad ajustable

---

### üí° Prioridad BAJA - Futuro (v3.0+)

#### 7. Features Avanzadas

- [ ] **Modo multiveh√≠culo**

  - [ ] Dividir nodos entre m√∫ltiples camiones
  - [ ] Optimizaci√≥n global
  - [ ] Asignaci√≥n inteligente de rutas

- [ ] **Restricciones temporales**

  - [ ] Horarios de recolecci√≥n por zona
  - [ ] Ventanas de tiempo
  - [ ] Capacidad m√°xima del cami√≥n

- [ ] **Mapa real**

  - [ ] Integraci√≥n con Google Maps / OpenStreetMap
  - [ ] Coordenadas geogr√°ficas reales
  - [ ] Distancias de ruta (no euclidianas)
  - [ ] Visualizaci√≥n en mapa interactivo

- [ ] **Base de datos**

  - [ ] Backend simple (Node.js)
  - [ ] Guardar grafos en servidor
  - [ ] Compartir grafos entre usuarios
  - [ ] Autenticaci√≥n b√°sica

- [ ] **Modo colaborativo**
  - [ ] M√∫ltiples usuarios editando
  - [ ] Chat integrado
  - [ ] Historial de cambios

#### 8. Educaci√≥n y Tutoriales

- [ ] **Tour guiado**

  - [ ] Tutorial interactivo al iniciar
  - [ ] Tooltips contextuales
  - [ ] Ejemplos precargados

- [ ] **Modo explicativo**

  - [ ] Visualizaci√≥n paso a paso del backtracking
  - [ ] √Årbol de decisiones
  - [ ] Explicaci√≥n de cada paso del algoritmo

- [ ] **Recursos educativos**
  - [ ] Secci√≥n "Acerca de TSP"
  - [ ] Videos explicativos
  - [ ] Enlaces a recursos externos

---

## üìÖ Cronograma Estimado

### Fase 1: Editor Manual (4-6 semanas)

- **Semana 1-2:** Agregar/eliminar nodos manualmente
- **Semana 3-4:** Agregar/eliminar aristas, drag & drop
- **Semana 5-6:** Edici√≥n de propiedades, validaciones

### Fase 2: Mejoras de UI (3-4 semanas)

- **Semana 1-2:** Redise√±o visual, paleta de colores
- **Semana 3-4:** Tooltips, panel lateral, animaciones

### Fase 3: Guardar/Cargar (2 semanas)

- **Semana 1:** Serializaci√≥n y guardado
- **Semana 2:** Carga y validaci√≥n

### Fase 4: Algoritmos alternativos (3-4 semanas)

- **Semana 1-2:** Implementar Nearest Neighbor
- **Semana 3-4:** Implementar 2-opt, comparaciones

### Fase 5: Exportaci√≥n (2-3 semanas)

- **Semana 1:** Exportar a imagen
- **Semana 2:** Exportar a PDF/CSV
- **Semana 3:** Gr√°ficas de an√°lisis

---

## üèóÔ∏è Arquitectura Propuesta para v2.0

### Nuevos M√≥dulos Requeridos

```
src/js/
‚îú‚îÄ‚îÄ app.js                    (existente - actualizar)
‚îú‚îÄ‚îÄ Graph.js                  (existente - mantener)
‚îú‚îÄ‚îÄ HamiltonianFinder.js      (existente - mantener)
‚îú‚îÄ‚îÄ TSPSolver.js              (existente - mantener)
‚îú‚îÄ‚îÄ CytoscapeRenderer.js      (existente - actualizar)
‚îú‚îÄ‚îÄ LogDisplay.js             (existente - mantener)
‚îú‚îÄ‚îÄ RandomGenerator.js        (existente - mantener)
‚îú‚îÄ‚îÄ GraphEditor.js            ‚¨ÖÔ∏è NUEVO - Edici√≥n manual
‚îú‚îÄ‚îÄ FileManager.js            ‚¨ÖÔ∏è NUEVO - Guardar/cargar
‚îú‚îÄ‚îÄ AlgorithmSelector.js      ‚¨ÖÔ∏è NUEVO - M√∫ltiples algoritmos
‚îú‚îÄ‚îÄ NearestNeighbor.js        ‚¨ÖÔ∏è NUEVO - Algoritmo heur√≠stico
‚îú‚îÄ‚îÄ TwoOpt.js                 ‚¨ÖÔ∏è NUEVO - Optimizaci√≥n local
‚îî‚îÄ‚îÄ UIController.js           ‚¨ÖÔ∏è NUEVO - Control unificado de UI
```

### Actualizaci√≥n de HTML (index.html)

Agregar secciones:

- **Panel de edici√≥n manual** (botones, controles)
- **Selector de algoritmo** (dropdown)
- **Panel de propiedades** (sidebar)
- **Controles de guardar/cargar** (botones)

---

## üêõ Bugs Conocidos y Mejoras T√©cnicas

### Bugs

- [ ] **Validaci√≥n de N:** Permitir valores fuera del rango con advertencia
- [ ] **Mensaje de error:** Mejorar manejo de errores en UI
- [ ] **Progreso manual:** Implementar realmente el modo manual (actualmente no funciona)

### Mejoras T√©cnicas

- [ ] **Refactorizaci√≥n:** Extraer l√≥gica de UI de app.js
- [ ] **Tests unitarios:** Agregar pruebas para algoritmos
- [ ] **JSDoc:** Documentar todas las funciones
- [ ] **Webpack/Bundler:** Empaquetar m√≥dulos
- [ ] **Linter:** ESLint para c√≥digo consistente
- [ ] **TypeScript (opcional):** Migrar para type safety

---

## üìù Notas de Desarrollo

### Decisiones de Dise√±o

- **Por qu√© fuerza bruta:** Garantiza soluci√≥n √≥ptima, ideal para aprendizaje
- **Por qu√© l√≠mite N=16:** Complejidad factorial hace inviable N > 16
- **Por qu√© Cytoscape.js:** Biblioteca madura, gran comunidad, bien documentada

### Consideraciones para Editor Manual

- **Validaci√≥n cr√≠tica:** Evitar grafos no conexos (sin ciclos hamiltonianos)
- **UX:** Modo edici√≥n vs modo visualizaci√≥n (toggle)
- **Performance:** Recalcular solo lo necesario al editar

### Consideraciones para UI

- **Accesibilidad:** Contraste, tama√±o de fuente, navegaci√≥n por teclado
- **Consistencia:** Mantener el flujo secuencial actual
- **Feedback:** Siempre mostrar estado de operaciones

---

## üéì Para el Curso de Matem√°tica Discreta

### Conceptos Cubiertos

- ‚úÖ Grafos (completos, conexos)
- ‚úÖ Ciclos hamiltonianos
- ‚úÖ Problema del agente viajero (TSP)
- ‚úÖ Algoritmo de backtracking
- ‚úÖ Complejidad computacional (O(N!))
- ‚úÖ Optimizaci√≥n combinatoria
- ‚úÖ Matriz de adyacencia

### Conceptos por Cubrir (futuro)

- [ ] Algoritmos greedy (Nearest Neighbor)
- [ ] Optimizaci√≥n local (2-opt, 3-opt)
- [ ] Heur√≠sticas vs soluciones exactas
- [ ] Complejidad vs aproximaci√≥n
- [ ] Algoritmos probabil√≠sticos

---

## ü§ù Contribuciones y Desarrollo

### C√≥mo usar este documento

1. **Leer estado actual:** Ver qu√© est√° hecho
2. **Elegir feature:** Seleccionar de la lista de pendientes
3. **Marcar en progreso:** Actualizar estado (üîÑ En progreso)
4. **Completar:** Cambiar a ‚úÖ cuando est√© listo
5. **Documentar cambios:** Agregar notas si es necesario

### Formato de marcado

- ‚úÖ Completado
- üîÑ En progreso
- ‚è∏Ô∏è Pausado
- ‚ùå Cancelado/Descartado
- üêõ Bug identificado
- ‚≠ê Prioridad alta
- üí° Idea/sugerencia

---

## üìû Contacto y Soporte

**Proyecto:** GreenCircuit  
**Curso:** Matem√°tica Discreta  
**Prop√≥sito:** Educativo - Demostraci√≥n de TSP aplicado  
**Licencia:** Proyecto acad√©mico

---

**√öltima actualizaci√≥n:** 28 de octubre de 2025  
**Versi√≥n del documento:** 1.0
